---
layout: single
title:  "Ch3.프로세서와 스케쥴러"
tag: [CS, OS]
toc: true
---



# 프로세스 스케쥴링

## - 배치 처리 시스템, 시분할 시스템, 멀티 태스킹



### 배치 처리 시스템

- 일괄 처리, 배치 처리, batch processing 이라고 부름
- 컴퓨터 프로그램 실행 요청 순서에 따라 순차적으로 프로그램을 실행하는 방식
- 한번에 등록된 여러 프로그램을 순차적으로 실행 가능



### 배치 처리 시스템과 시분할 시스템/멀티 프로그래밍

- 여러 프로그램을 순차적으로 실행시킬 수 있도록 해준다.
  - 앞단 프로그램의 실행시간이 너무 길어서, 다른 프로그램을 실행하는데 시간을 많이 기다려야 한다.
  - 예) MP3 음악을 들으면서, 문서 작성을 하고 싶은 경우(동시에 여러 응용 프로그램 실행)
  - 예) 여러 사용자가 동시에 하나의 컴퓨터를 쓰려는 경우 (다중사용자 지원)

> 멀티 프로그래밍/시분할 시스템이 나왔다.



### 시분할 시스템

- 시분할 시스템: 다중 사용자 지원을 위해 컴퓨터 응답시간을 최소화하는 시스템



### 멀티 태스킹

- 멀티 태스킹: 단일 CPU에서, 여러 응용 프로그램이 동시에 실행되는 것처럼 보이도록 하는 시스템
  - 나는 MP3 음악을 들으며, 문서 작성을 한다.
- 실제 멀티태스킹은 10~20 ms 단위로도 실행 응용 프로그램이 바뀌어 사용자에게는 동시에 실행되는 것처럼 보인다.



### 멀티 태스킹과 멀티 프로세싱

- 멀티 태스킹과 멀티 프로세싱

![스크린샷 2021-11-02 오후 4.54.29](../images/21-11-02-OS-3/스크린샷 2021-11-02 오후 4.54.29-5839706.png)

- 출처: http://donghoson.tistory.com/15

- 멀티 태스킹: 단일 CPU
- 멀티 프로세싱: 여러 CPU에 하나의 프로그램을 병렬로 실행해서 실행 속도를 극대화시키는 시스템



## - 멀티 프로그래밍



### 멀티 프로그래밍

- 최대한 CPU를 많이 활용하도록 하는 시스템
  - 시간 대비 CPU 활용도를 높이자
  - 응용 프로그램을 짧은 시간 안에 실행 완ㄹ료를 시킬 수 있음

- 응용 프로그램은 온전히 CPU를 쓰기 보다, 다른 작업을 중간에 필요로 하는 경우가 많다.
  - 응용 프로그램이 실행되다가 파일을 읽는다.
  - 응용 프로그램이 실행되다가 프린팅을 한다.



## 스케쥴링 알고리즘



### 프로세스 (process) 란?

- 실행 중인 프로그램은 프로세스라고 함
  - 프로세스: 메모리에 올려져서, 실행 중인 프로그램
  - 코드 이미지(바이너리): 실행 파일, 예:ELF format
- 응용프로그램 != 프로세스
  - 응용프로그램은 여러 개의 프로세스로 이루어질 수 있음
- 하나의 응용 프로그램은 여러 개의 프로세스(프로그램)가 상호작용을 하면서 실행될 수도 있음



### 스케쥴링 알고리즘



#### FIFO 스케쥴러

> 프로세스가 저장매체를 읽는 다든지, 프린팅을 한다든지하는 작업 없이, 쭉 CPU를 처음부터 끝까지 사용한다.

- 가장 간단한 스케쥴러 (배치 처리 시스템과 유사하다.)
- FCFS (First Come First Served) 스케쥴러

![스크린샷 2021-11-03 오전 10.49.05](../images/21-11-02-OS-3/스크린샷 2021-11-03 오전 10.49.05.png)



#### 최단 작업 우선(SJF) 스케쥴러

- 가장 프로세스 실행시간이 짧은 프로세스부터 먼저 실행을 시키는 알고리즘
- 그리기 위해선 실행시간을 미리 다 안 상태여야 한다.



#### 우선순위 기반(Priority-Based) 스케쥴러

- 정적 우선 순위
  - 프로세스마다 우선순위를 미리 지정
- 동적 우선 순위
  - 스케쥴러가 상황에 따라 우선순위를 동적으로 변경



#### Round Robin 스케쥴러

- 시분할 시스템을 위해 설계된 선점형 스케줄링의 하나로서, 프로세스들 사이에 우선순위를 두지 않고, 순서대로 시간단위(Time Quantum)로 CPU를 할당하는 방식의 CPU 스케쥴링 알고리즘이다. 

  ![스크린샷 2021-11-03 오전 10.53.46](../images/21-11-02-OS-3/스크린샷 2021-11-03 오전 10.53.46-5904797.png)



### 멀티 프로그래밍과 Wait

- 멀티 프로그램이: CPU 활용도를 극대화하는 스케쥴링 알고리즘
- Wait: 간단히 저장매체로부터 파일 읽기를 기다리는 시간

![스크린샷 2021-11-03 오전 11.21.27](../images/21-11-02-OS-3/스크린샷 2021-11-03 오전 11.21.27.png)

- 위의 그림처럼 프로그램A를 실행시키고 바로 파일일기하는 시간에 CPU활용도를 높이기 위해 나머지 프로그램을 실행시킨다.



#### 프로세스 상태

1. Running state: 현재 CPU에서 실행 상태
2. Ready state: CPU에서 실행 가능 상태(실행 대기 상태)
3. Block state: 특정 이벤트 발생 대기 상태



